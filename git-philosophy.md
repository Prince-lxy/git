# Git 的哲学
> 一项好的技术，在你理解之后，你会发现它本就应该是这样。

## Contents / Mind mapping
- **1 对待数据的方式：快照**
- **2 对待提交的方式：三种状态**
- **3 对待非线性开发的方式：分支**
- **4 对待远程仓库的方式：完全分布式**
- **5 对待错误的方式：add only**

---

### 1 对待数据的方式：快照

通过对比来理解快照（snapshot）吧，毕竟这两个字真没法从字面上去解释：

|类型|产生下一个版本的方式|特点|
|--|--|--|
|家里有矿型|在完全复制了上一个版本的基础上进行修改|丝毫不吝惜存储空间|
|极度抠门儿型|保存相较于上一个版本的补丁集合|最省空间的算法|
|快照|保存相较于上一个版本的发生变化的新文件集合|相比之下略显中庸吧|



### 2 对待提交的方式：三种状态

Git 项目中文件可能处于三种状态之中：已提交（committed）、已修改（modified）和已暂存（staged）。

|文件状态|状态含义|文件所处空间|空间含义|
|--|--|--|--|
|已提交|表示数据已经安全的保存在本地数据库中|Git 仓库|用来保存项目的元数据和对象数据库的地方|
|已修改|表示修改了文件，但还没保存到数据库中|工作目录|对项目的某个版本独立提取出来的内容|
|已暂存|表示对一个已修改文件的当前版本做了标记，使之包含在下次提交的快照中|暂存区域|是一个文件，保存了下次将提交的文件列表信息，一般在 Git 仓库目录中|



### 3 对待非线性开发的方式：分支

使用分支意味着你可以把你的工作从开发主线上分离开来，以免影响开发主线。

在很多版本控制系统中，这是一个略微低效的过程——常常需要完全创建一个源代码目录的副本。对于大项目来说，这样的过程会耗费很多时间。

Git 的分支管理是基于它对待数据和对待提交的方式的，由于 Git 仓库中保存了每个版本的快照，快照相互之间以链表的方式组织起来，不同的分支则以类似指针的方式来管理各自的版本快照集合，由于指针天然具有相当大的灵活性，使得 Git 分支管理变得非常便捷。



### 4 对待远程仓库的方式：完全分布式

由于 Git 仓库中保存了元数据和各版本的快照集合，加上 Git 对于提交的数据完整的逻辑闭环，使得每一份拷贝的仓库都具有完整的自我管理属性，使得对仓库的操作完全可以在本地进行，即使中央数据库出现问题，分布在其他机器的任何一个仓库都能够轻松的恢复中央数据库中的仓库。



### 5 对待错误的方式：add only

> 你执行的 Git 操作，几乎只往 Git 数据库中增加数据。 很难让 Git 执行任何不可逆操作，或者让它以任何方式清除数据。
